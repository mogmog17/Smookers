<div class="container">
  <div class="row">
    <div class="col-md-10">
    <h1 class="mt-4 mb-4">新規投稿</h1>

    <% if @post.errors.any? %>
      <%= @post.errors.count %>件のエラーが出ています
        <ul>
          <% @post.errors.full_messages.each do |message| %>
            <li><%= message %></li>
          <% end %>
        </ul>
    <% end %>

    <%= form_with model: @post do |f| %>
      <%= f.label :"喫煙スポット" %><br>
      <%= f.text_field :title, class: "form-control" %><br>
      <div class="form-group row" id="star">
        <%= f.label :"レビュー" %>
        <%= f.hidden_field :star, id: :review_star %>
      </div>
      <script>
        $('#star').empty();
        $('#star').raty({
          size: 36,
          starOff: '<%= asset_path('star-off.png') %>',
          starOn: '<%= asset_path('star-on.png') %>',
          scoreName: 'post[star]',
          half: false
        });
      </script>
      <%= f.label :"紹介" %><br>
      <%= f.text_area :body, class: "form-control py-5" %><br>
      <%= f.label :"画像" %><br>
      <%= f.file_field :spot_image %><br>
      <div class="row mt-2 mb-4">
        <%= f.submit "投稿する", class: "mt-3 btn btn-outline-success rounded-pill" %>
      </div>
    <% end %>
    </div>
  </div>
</div>